<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!-- $Id: CM-ETL-FXRATE-WF.xml 3690 2016-06-01 20:44:07Z gmusial $
	 Maestro version: 1.19.1 -->
	 
<workflow xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="workflowDefinition.xsd">
	<name>CM-ETL-FXRATE-WF</name> 
  	<externalWorkflowCode>CM-ETL-FXRATE-WF</externalWorkflowCode> 
  	<finishOrchestrationASAPOnError>false</finishOrchestrationASAPOnError> 
	<description>CM-ETL-FXRATE-WF ($LastChangedRevision: 3690 $)</description>

	<properties>
		<inputProperties>
			<property name="SOURCE-SYSTEM" />
			<property name="SOURCE-SYSTEM-LC" />
			<property name="RUN-ID" />
			<property name="BUSINESS-DATE" />
			<property name="EOD-EOM-IND" />
		</inputProperties>
	</properties>

	<sequential id="CM-ENRICHMENT" name="CM-ENRICHMENT">
		
		<stage name="LAND-TO-TARGET-FXRATE" id="CM-FXRATE-L2T">
			<description>FXRATE loading from landing to target</description>
			
			<execDefinition>
				<dbProcedure name="CTRMSO.ETL_INVOKER_SP">
					<in>
						<param name="P_TYPE_NAME_I" type="STRING">fxrate_tp</param>
						<param name="P_METHOD_NAME_I" type="STRING">pub_move_land_2_target</param>
						<param name="P_RUN_ID_I" type="NUMBER">${RUN-ID}</param>
						<param name="P_STAGE_ID_I" type="STRING">TARGET</param>
						<param name="P_TASK_ID_I" type="STRING">CM-FXRATE-L2T</param>
						<param name="P_LOG_ID_I" type="STRING">1</param>
						<param name="P_BUSINESS_DATE_I" type="STRING">${BUSINESS-DATE}</param>
						<param name="P_SOURCE_SYSTEM_CD_I" type="STRING">${SOURCE-SYSTEM}</param>
					</in>
					<out>
						<param name="P_RET_VALUE_O" type="NUMBER"></param>
						<param name="P_RET_MESSAGE_O" type="STRING"></param>
					</out>
				</dbProcedure>
			</execDefinition>
		</stage>
		
	</sequential>

</workflow>
	