<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-4">
<title>JS Interview Questions</title>
</head>

<body>

	<a href="http://www.thatjsdude.com/interview/js2.html">7. bind</a>


 	// Question: If you want to use an arbitrary object as value of this, how will you do that?
	// Answer: There are at least three different ways to doing this by using bind, call and apply. 
	// For example, I have a method named deductMontlyFee in the object monica and by default value of 
	// this would be monica inside the method.
	<script type="text/javascript">
		var monica = {
			name : 'Monica Geller',
			total : 400,
			deductMonthlyFee : function(fee) {
				this.total = this.total - fee;
				return this.name + ' remaining balance is ' + this.total;
			}
		}

		// If I bind the deductMontlyFee of monica with another object rachel and pass rachel as first 
		// parameter of the bind function, rachel would be the value of this.
		var rachel = {
			name : 'Rachel Green',
			total : 1500
		};
		var rachelFeeDeductor = monica.deductMonthlyFee.bind(rachel, 200);

		console.log(rachelFeeDeductor()); //"Rachel Green remaining balance is 1300"
		console.log(rachelFeeDeductor()); //"Rachel Green remaining balance is 1100"

		// bind allows you to borrow a method and set the value of this without calling the function. 
		// It simply returns an exact copy of the function with new value of this. You can reuse the same 
		// function with new value of this without harming the old one.
		
		var ross = {
			name : 'Ross Geller',
			total : 250
		};
		var rossFeeDeductor = monica.deductMonthlyFee.bind(ross, 25);
		console.log(rossFeeDeductor()); //"Ross Geller remaining balance is 225"
		console.log(rossFeeDeductor()); //"Ross Geller remaining balance is 200"
		console.log(rachelFeeDeductor()); //"Rachel Green remaining balance is 900"

		
		// Question: If an older browser dont have bind function, how will you shim it
		// Answer: Look at the code below and use your brain.
		
		Function.prototype.bind2 = Function.prototype.bind2 || function(context) {
			var self = this;
			return function() {
				return self.apply(context, arguments);
			};
		}

		var glen = {
			name : 'Glen',
			total : 100
		};
		var glenFeeDeductor = monica.deductMonthlyFee.bind2(glen, 25);
		console.log(glenFeeDeductor()); //"Ross Geller remaining balance is 225"
		console.log(glenFeeDeductor()); //"Ross Geller remaining balance is 200"
		console.log(rachelFeeDeductor()); //"Rachel Green remaining balance is 900"
	</script>


</body>

</html>